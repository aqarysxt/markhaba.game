<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8" />
  <title>–ë“±–ª –Ω–µ–Ω—ñ“£ –¥–∞—É—ã—Å—ã?</title>
  <style>
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #fdfbfb 0, #ebedee 100%);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }

    .game-wrapper {
      max-width: 1000px;
      width: 100%;
      padding: 28px 16px 40px;
    }

    h1 {
      text-align: center;
      margin: 0 0 24px;
      font-size: 32px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 18px;
      margin-bottom: 28px;
    }

    .card {
      position: relative;
      background: #ffffff;
      border-radius: 18px;
      border: 3px solid #d2d6e0;
      padding: 40px 12px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease,
        background-color 0.12s ease;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.06);
      touch-action: manipulation;
      overflow: hidden;
    }

    .card:active {
      transform: scale(0.97);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
    }

    .card-number {
      font-size: 34px;
      font-weight: 700;
      pointer-events: none;
      position: relative;
      z-index: 2;
    }

    /* –ê—à—ã–ª“ì–∞–Ω—ã–Ω –∫”©—Ä—Å–µ—Ç—É */
    .card.opened {
      background-color: #f9fafc;
      border-color: #b3b9c8;
    }

    /* –î“±—Ä—ã—Å / “õ–∞—Ç–µ –±–µ–ª–≥—ñ—Å—ñ */
    .card.correct {
      border-color: #27ae60;
      box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.25);
    }

    .card.correct::after {
      content: "‚úî";
      position: absolute;
      top: 10px;
      right: 12px;
      color: #27ae60;
      font-size: 22px;
      font-weight: 700;
      z-index: 3;
    }

    .card.wrong {
      border-color: #e74c3c;
      box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.25);
    }

    .card.wrong::after {
      content: "‚úñ";
      position: absolute;
      top: 10px;
      right: 12px;
      color: #e74c3c;
      font-size: 22px;
      font-weight: 700;
      z-index: 3;
    }

    /* –ü–æ–¥–∞—Ä–æ–∫ ‚Äì –∫–∞—Ä—Ç–æ—á–∫–∞–Ω—ã“£ —Å—ã—Ä—Ç—ã–Ω–¥–∞“ì—ã “Ø–ª–∫–µ–Ω —Å–º–∞–π–ª–∏–∫ */
    .card.gift-opened::before {
      content: "üéÅ";
      position: absolute;
      font-size: 80px;
      opacity: 0.22;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      z-index: 1;
      pointer-events: none;
    }

    /* –ü–æ–ø–∞–ø */
    .popup-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.45);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .popup-overlay.active {
      display: flex;
    }

    .popup-window {
      background: #ffffff;
      padding: 24px 22px 22px;
      border-radius: 20px;
      max-width: 460px;
      width: 95%;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    .popup-title {
      font-weight: 700;
      margin-bottom: 12px;
      font-size: 22px;
      text-align: center;
    }

    .popup-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin: 12px 0;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 12px 14px;
      font-size: 16px;
      cursor: pointer;
      line-height: 1.3;
      touch-action: manipulation;
    }

    .btn-play {
      background: #3498db;
      color: #fff;
      font-weight: 600;
    }

    .btn-answer {
      background: #9b59b6;
      color: #fff;
      font-weight: 600;
    }

    .btn-correct {
      background: #2ecc71;
      color: #fff;
      font-weight: 600;
    }

    .btn-wrong {
      background: #e74c3c;
      color: #fff;
      font-weight: 600;
    }

    .btn-close {
      background: #bdc3c7;
      color: #2c3e50;
      margin-top: 10px;
      width: 100%;
      font-weight: 500;
    }

    .answer {
      margin-top: 6px;
      font-size: 15px;
      padding: 8px 10px;
      border-radius: 10px;
      background: #f6f2ff;
      border: 1px dashed #9b59b6;
    }

    .hidden {
      display: none;
    }

    #reset-game {
      display: block;
      margin: 0 auto;
      padding: 12px 26px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #34495e, #2c3e50);
      color: #fff;
      font-size: 17px;
      cursor: pointer;
      font-weight: 600;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
      touch-action: manipulation;
    }

    #reset-game:active {
      transform: translateY(1px);
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
    }

    /* –ü–æ–¥–∞—Ä–æ–∫ ‚Äì –ø–æ–ø–∞–ø —ñ—à—ñ–Ω–¥–µ */
    .gift-box {
      margin-top: 12px;
      text-align: center;
    }

    .gift-emoji {
      font-size: 90px;
      line-height: 1;
      margin-bottom: 6px;
    }

    .btn-gift {
      background: #f39c12;
      color: #fff;
      font-weight: 700;
      padding-left: 26px;
      padding-right: 26px;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <div class="game-wrapper">
    <h1>–ë“±–ª –Ω–µ–Ω—ñ“£ –¥–∞—É—ã—Å—ã?</h1>

  <div class="grid">
      <div class="card" data-id="1"><div class="card-number">1<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="2"><div class="card-number">2<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="3"><div class="card-number">3<<sub>‚ô¨</sub>/div></div>
      <div class="card" data-id="4"><div class="card-number">4<<sub>‚ô¨</sub>/div></div>
      <div class="card" data-id="5"><div class="card-number">5<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="6"><div class="card-number">6<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="7"><div class="card-number">7<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="8"><div class="card-number">8<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="9"><div class="card-number">9<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="10"><div class="card-number">10<sub>‚ô¨</sub></div></div>
      <div class="card" data-id="11"><div class="card-number">11<sub>‚ô¨</sub></div></div>
    </div>
    

    <button id="reset-game">–û–π—ã–Ω–¥—ã –±–∞—Å—ã–Ω–∞–Ω –±–∞—Å—Ç–∞—É</button>
  </div>

  <!-- –ü–æ–ø–∞–ø -->
  <div class="popup-overlay" id="popup">
    <div class="popup-window">
      <div class="popup-title" id="popup-title"></div>

      <div class="popup-buttons" id="popup-buttons">
        <button class="btn-play" id="btn-play">–î—ã–±—ã—Å –æ–π–Ω–∞—Ç—É</button>
        <button class="btn-answer" id="btn-answer">–î“±—Ä—ã—Å –∂–∞—É–∞–±—ã</button>
        <button class="btn-correct" id="btn-correct">–î“±—Ä—ã—Å —Ç–∞–ø—Ç—ã</button>
        <button class="btn-wrong" id="btn-wrong">–î“±—Ä—ã—Å –µ–º–µ—Å</button>
      </div>

      <div class="answer hidden" id="answer-box"></div>

      <!-- –ü–æ–¥–∞—Ä–æ–∫ ‚Äì —Ç–µ–∫ —Å—ã–π–ª—ã“õ –∫–∞—Ä—Ç–æ—á–∫–∞–¥–∞ -->
      <div class="gift-box hidden" id="gift-box">
        <div class="gift-emoji">üéÅ</div>
        <button class="btn-gift" id="btn-gift">–°—ã–π–ª—ã“õ</button>
      </div>

      <button class="btn-close" id="btn-close">–ñ–∞–±—É</button>
    </div>
  </div>

  <script>
    const grid = document.querySelector(".grid");
    const cards = Array.from(document.querySelectorAll(".card"));

    const popup = document.getElementById("popup");
    const popupTitle = document.getElementById("popup-title");
    const popupButtons = document.getElementById("popup-buttons");
    const btnPlay = document.getElementById("btn-play");
    const btnAnswer = document.getElementById("btn-answer");
    const btnCorrect = document.getElementById("btn-correct");
    const btnWrong = document.getElementById("btn-wrong");
    const btnClose = document.getElementById("btn-close");
    const answerBox = document.getElementById("answer-box");
    const resetBtn = document.getElementById("reset-game");
    const giftBox = document.getElementById("gift-box");
    const btnGift = document.getElementById("btn-gift");

    let activeCard = null;
    let activeAudio = null;

    // 10 –¥—ã–±—ã—Å + –∂–∞—É–∞–ø—Ç–∞—Ä
    const soundData = [
      { src: "sounds/–ë–∞“õ–∞(–ª—è–≥—É—à–∫–∞).mp3", answer: "–ë–∞“õ–∞–Ω—ã“£ –¥–∞—É—ã—Å—ã" },
      { src: "sounds/–ï—Å—ñ–∫—Ç—ñ“£ –∞—à—ã–ª—É—ã.mp3", answer: "–ï—Å—ñ–∫—Ç—ñ“£ –∞—à—ã–ª—É –¥—ã–±—ã—Å—ã" },
      { src: "sounds/–ñ–∞“£–±—ã—Ä.mp3", answer: "–ñ–∞“£–±—ã—Ä–¥—ã“£ –¥—ã–±—ã—Å—ã" },
      { src: "sounds/–ñ–µ–ª.mp3", answer: "–ñ–µ–ª–¥—ñ“£ –≥—É—ñ–ª—ñ" },
      { src: "sounds/–ú–∞–π“ì–∞  –µ—Ç—Ç—ñ “õ—É—ã—Ä—É.mp3", answer: "–ú–∞–π“ì–∞ –µ—Ç—Ç—ñ “õ—É—ã—Ä—É –¥—ã–±—ã—Å—ã" },
      { src: "sounds/–û–≥—É—Ä—Ü—ã.mp3", answer: "“ö–∏—è—Ä —Ç—É—Ä–∞—É –¥—ã–±—ã—Å—ã" },
      { src: "sounds/–û—Ç .mp3", answer: "–û—Ç—Ç—ã“£ —Å—ñ—Ä–∫—ñ—Ä–µ—É—ñ" },
      { src: "sounds/–†—É—á–∫–∞–º–µ–Ω –∂–∞–∑—É.mp3", answer: "“ö–∞–ª–∞–º–º–µ–Ω –∂–∞–∑—É –¥—ã–±—ã—Å—ã" },
      { src: "sounds/–®—ã–±—ã–Ω.mp3", answer: "–®—ã–±—ã–Ω–Ω—ã“£ —ã–∑—ã“£—ã" },
      { src: "sounds/“ö–∞“ì–∞–∑–¥—ã –∂—ã—Ä—Ç—É.mp3", answer: "“ö–∞“ì–∞–∑–¥—ã –∂—ã—Ä—Ç—É –¥—ã–±—ã—Å—ã" },
    ];

    // –ú–∞—Å—Å–∏–≤—Ç—ñ —à–∞—Ñ–ª–¥–∞—É (–§–∏—à–µ—Ä-–ô–µ—Ç—Å)
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // –û–π—ã–Ω–¥—ã –±–∞—Å—Ç–∞–ø“õ—ã –∫“Ø–π–≥–µ –¥–∞–π—ã–Ω–¥–∞—É:
    //  - 11 –∫–∞—Ä—Ç–æ—á–∫–∞
    //  - 10 –¥—ã–±—ã—Å, 1 —Å—ã–π–ª—ã“õ (–¥—ã–±—ã—Å—Å—ã–∑)
    //  - –∫–∞—Ä—Ç–æ—á–∫–∞–ª–∞—Ä–¥—ã“£ –æ—Ä–Ω—ã –∞—É—ã—Å–∞–¥—ã
    function setupGame() {
      // –ë–∞—Ä–ª—ã“õ –∫–∞—Ä—Ç–æ—á–∫–∞–Ω—ã —Ç–∞–∑–∞–ª–∞—É
      cards.forEach((card) => {
        card.classList.remove("opened", "correct", "wrong", "gift-opened");
        card.dataset.type = "";
        card.dataset.answer = "";
        // —ñ—à—ñ–Ω–¥–µ –±–æ–ª—Å–∞ –∞—É–¥–∏–æ–Ω—ã ”©—à—ñ—Ä—É
        const oldAudio = card.querySelector("audio");
        if (oldAudio) {
          oldAudio.pause();
          oldAudio.remove();
        }
      });

      // –ö–∞—Ä—Ç–æ—á–∫–∞–ª–∞—Ä–¥—ã“£ –æ—Ä–Ω—ã–Ω —Ä–∞–Ω–¥–æ–º –∞—É—ã—Å—Ç—ã—Ä—É
      const shuffledCards = shuffle([...cards]);
      shuffledCards.forEach((card) => grid.appendChild(card));

      // 1 –∫–∞—Ä—Ç–æ—á–∫–∞–Ω—ã —Ä–∞–Ω–¥–æ–º —Å—ã–π–ª—ã“õ “õ—ã–ª–∞–º—ã–∑
      const giftIndex = Math.floor(Math.random() * shuffledCards.length);
      const giftCard = shuffledCards[giftIndex];
      giftCard.dataset.type = "gift";
      giftCard.dataset.answer = "–°—ã–π–ª—ã“õ —Ç–µ—Ä–µ–∑–µ—Å—ñ üéÅ";

      // “ö–∞–ª“ì–∞–Ω 10 –∫–∞—Ä—Ç–æ—á–∫–∞“ì–∞ –¥—ã–±—ã—Å –ø–µ–Ω –¥“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç—ã —Ç–∞“ì–∞–π—ã–Ω–¥–∞—É
      let soundIndex = 0;
      shuffledCards.forEach((card, idx) => {
        if (idx === giftIndex) return; // —Å—ã–π–ª—ã“õ ‚Äì –¥—ã–±—ã—Å –∂–æ“õ

        card.dataset.type = "sound";
        const data = soundData[soundIndex];
        soundIndex++;

        // –∂–∞—É–∞–ø—Ç—ã data-“ì–∞ –∂–∞–∑–∞–º—ã–∑
        card.dataset.answer = data.answer;

        // –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ñ–Ω “õ“±—Ä—ã–ø, –∫–∞—Ä—Ç–æ—á–∫–∞“ì–∞ “õ–æ—Å—É
        const audio = document.createElement("audio");
        audio.src = data.src;
        card.appendChild(audio);
      });
    }

    // –ë—ñ—Ä—ñ–Ω—à—ñ —Ä–µ—Ç –æ–π—ã–Ω–¥—ã –¥–∞–π—ã–Ω–¥–∞—É
    setupGame();

    // –ö–∞—Ä—Ç–æ—á–∫–∞–Ω—ã –±–∞—Å“õ–∞–Ω–¥–∞ –ø–æ–ø–∞–ø –∞—à—É
    cards.forEach((card) => {
      card.addEventListener("click", () => {
        activeCard = card;
        const type = card.dataset.type;

        // type = "sound" –±–æ–ª—Å–∞, –∫–∞—Ä—Ç–æ—á–∫–∞–Ω—ã“£ —ñ—à—ñ–Ω–¥–µ –±—ñ—Ä “ì–∞–Ω–∞ –∞—É–¥–∏–æ –±–∞—Ä
        activeAudio = card.querySelector("audio");

        const id = card.dataset.id;
        const answer = card.dataset.answer || "–ñ–∞—É–∞–ø";

        answerBox.textContent = answer;
        answerBox.classList.add("hidden");

        if (type === "gift") {
          // –°–´–ô–õ–´“ö –ö–ê–†–¢–û–ß–ö–ê
          popupTitle.textContent = `–°—ã–π–ª—ã“õ—Ç—ã —Ç–∞–ø—Ç—ã“£!`;
          giftBox.classList.remove("hidden");
          popupButtons.classList.add("hidden"); // –æ–π—ã–Ω –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã–Ω –∂–∞—Å—ã—Ä–∞–º—ã–∑
          card.classList.add("gift-opened");
        } else {
          // “ö–ê–õ“í–ê–ù 10 –î–´–ë–´–° –ö–ê–†–¢–û–ß–ö–ê
          popupTitle.textContent = `‚Ññ${id} –¥—ã–±—ã—Å—ã`;
          giftBox.classList.add("hidden");
          popupButtons.classList.remove("hidden");
        }

        popup.classList.add("active");
        card.classList.add("opened");
      });
    });

    // –î—ã–±—ã—Å
    btnPlay.addEventListener("click", () => {
      if (!activeAudio) return;
      activeAudio.currentTime = 0;
      activeAudio.play();
    });

    // –î“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç—ã –∫”©—Ä—Å–µ—Ç—É
    btnAnswer.addEventListener("click", () => {
      answerBox.classList.toggle("hidden");
    });

    // –î“±—Ä—ã—Å —Ç–∞–ø—Ç—ã
    btnCorrect.addEventListener("click", () => {
      if (!activeCard) return;
      activeCard.classList.remove("wrong");
      activeCard.classList.add("correct");
      popup.classList.remove("active");
    });

    // –î“±—Ä—ã—Å –µ–º–µ—Å
    btnWrong.addEventListener("click", () => {
      if (!activeCard) return;
      activeCard.classList.remove("correct");
      activeCard.classList.add("wrong");
      popup.classList.remove("active");
    });

    // –°—ã–π–ª—ã“õ –∫–Ω–æ–ø–∫–∞—Å—ã
    btnGift.addEventListener("click", () => {
      alert("üéÅ “ö“±—Ç—Ç—ã –±–æ–ª—Å—ã–Ω! –°–µ–Ω —Å—ã–π–ª—ã“õ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–Ω —Ç–∞–ø—Ç—ã“£!");
    });

    // –ñ–∞–±—É
    btnClose.addEventListener("click", () => {
      popup.classList.remove("active");
    });

    // –°—ã—Ä—Ç—ã–Ω–∞–Ω –±–∞—Å—Å–∞ –¥–∞ –∂–∞–±—É
    popup.addEventListener("click", (e) => {
      if (e.target === popup) {
        popup.classList.remove("active");
      }
    });

    // –û–π—ã–Ω–¥—ã –±–∞—Å—ã–Ω–∞–Ω –±–∞—Å—Ç–∞—É
    resetBtn.addEventListener("click", () => {
      popup.classList.remove("active");
      answerBox.classList.add("hidden");
      giftBox.classList.add("hidden");
      activeCard = null;
      activeAudio = null;
      setupGame();
    });
  </script>
</body>
</html>
